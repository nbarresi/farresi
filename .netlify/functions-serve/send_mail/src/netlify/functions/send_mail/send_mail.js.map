{
  "version": 3,
  "sources": ["../../../../OneDrive/Documents/Matrimoniomonio/farresi_it/farresi/netlify/functions/send_mail/send_mail.mjs"],
  "sourceRoot": "C:/Users/nicol/AppData/Local/Temp/tmp-37668-szPD5sO5XI5l",
  "sourcesContent": ["import fetch from 'node-fetch';\n\nexports.handler = async function (event, context) {\n\t\n\t// Only allow POST\n  if (event.httpMethod !== \"POST\") {\n    return { statusCode: 405, body: \"Method Not Allowed\" };\n  }\n\n  // When the method is POST, the name will no longer be in the event\u2019s\n  // queryStringParameters \u2013 it\u2019ll be in the event body encoded as a queryString\n  //const params = querystring.parse(event.body);\n  //const name = params.name || \"World\";\n\n  // Send greeting to Slack\n  /*let r = await fetch(\"https://api.sendgrid.com/v3/mail/send\", {//process.env.SLACK_WEBHOOK_URL, {\n    headers: {\n      \"Content-Type\": \"application/json\",\n\t  \"Authorization\": \"Bearer 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\"\n    },\n    method: \"POST\",\n    body: JSON.stringify({\n\t\t  personalizations: [{to: [{email: \"nbarresi@gmail.com\"}]}],\n\t\t  from: {email: \"invitati@farresi.it\"},\n\t\t  subject: \"Sending with SendGrid is \" ,\n\t\t  content: [{type: \"text/plain\", value: \"and easy to do anywhere, even with cURL\"}]\n\t  }),\n  });\n\t\n\tlet buffer = await r.text();\n    const response = {\n        statusCode: r.status,\n        body: buffer,\n        header: r.headers\n    };\n\treturn response;\n  */\n  \n  //const name = event['body']['name'];\n  console.log('Name:', event['body']);\n  return \"\";\n   /*return fetch(\"https://api.sendgrid.com/v3/mail/send\", {//process.env.SLACK_WEBHOOK_URL, {\n    headers: {\n      \"Content-Type\": \"application/json\",\n\t  \"Authorization\": \"Bearer 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\"\n    },\n    method: \"POST\",\n    body: JSON.stringify({\n\t\t  personalizations: [{to: [{email: \"nbarresi@gmail.com\"}]}],\n\t\t  from: {email: \"invitati@farresi.it\"},\n\t\t  subject: \"Sending with SendGrid is \" ,\n\t\t  content: [{type: \"text/plain\", value: \"and easy to do anywhere, even with cURL\"}]\n\t  }),\n  }).then((result) => ({\n      statusCode: 200,\n      body: result//`Hello, ! Your greeting has been sent to Slack \uD83D\uDC4B`,//${name}\n    }))\n\t.then(data => {\n\t  console.log('Success:', data);\n\t})\n\t.catch((error) => {\n\t  console.error('Error:', error);\n\t});*/\n\t\n\t\n};"],
  "mappings": ";AAEA,QAAQ,UAAU,eAAgB,OAAO,SAAS;AAGhD,MAAI,MAAM,eAAe,QAAQ;AAC/B,WAAO,EAAE,YAAY,KAAK,MAAM;AAAA;AAiClC,UAAQ,IAAI,SAAS,MAAM;AAC3B,SAAO;AAAA;",
  "names": []
}
